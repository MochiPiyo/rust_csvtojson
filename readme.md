


## csvをjsonの配列に変換する

これは学園祭サイトに掲載する情報をJsonにするために作りました。

使い方
・変換したいcsvファイルを同じフォルダに入れる
・rust_csvtojson.exeをダブルクリック
・最初の入力で変換したいcsvのファイル名を入力。.csvはつけない。例：test.csv->test
・出てきたものは見にくいので自動成型をかけたほうがよい。VScodeではalt+shift+Fでできる

もし途中で落ちるときはダブルクリックではなく、コマンドから実行するとエラーメッセージが見れる。
cd でこのディレクトリに移動して./rust_csvtojson.exeでできる


動作要件
・Windowsであること。Macとかは..ソースコードはあるぞ、、、

・csvファイルを用意、名前は任意だが半角が安全。*.csv
　第一行目はデータではなくカラム名であること
　このディレクトリ直下に存在すること
　csvファイルの中の文字列は改行およびダブルクオーテーションが含まれないこと。（出力結果に問題があるときを参照）

・csvファイルと同じ名前のjsonファイルが作成できること
　test.csvはtest.jsonに変換されます


後処理
・Json内の配列名のところを適切にする
・最後尾の配列要素のカンマを取り除く（プログラムでもできるがめんどくさ）


出力結果に問題があるとき

・データに改行が含まれるときはあらかじめ取り除く（プログラムでもできるが改行に対応する必要は今のところない）
スプレッドシートの場合
検索と置換->「\n」を空文字に。正規表現を利用して検索->すべて置換で完成

改行は\\nでエスケープするらしいが...。文中の改行を探すのがめんどくさそうなのと最終出力に改行は邪魔なので

・データにダブルクォーテーションがあるとき
手動で「"」を「\"」にするか、改行と同じように置換する
json " エスケープ　で検索